<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>notes_project_part_three</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/heti.min.css"><link rel="stylesheet" href="/css/hexo-theme-adoubi.css"><link rel="icon" href="/images/favicon.ico"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="" type="application/atom+xml">
</head><body><div class="header"><a class="github-link" target="_blank" rel="noopener" href="https://notabug.org/micaldas"><img class="github-image" src="/images/Aquicon-Github-small.png"></a><a class="email-link" href="mailto:mclds@protonmail.com"><img class="email-image" src="/images/email-small.png"></a><a class="subscribe-link" href="/atom.xml"><img class="subscribe-image" src="/images/subscribe-small.png"></a></div><div class="content"><div class="post-item"></div><h2 class="post-title-wrapper"><p class="post-title">notes_project_part_three</p></h2><div class="post-date"><time datetime="2021-09-29T07:57:08.000Z">2021-09-29</time></div><div class="post-content"><p>I’ve been fiddling with my notes app so as to get a bit more information and control regarding the keywords. I’ve noticed that there are some poor examples of tagging. Tags that I didn’t gave much thought and now signify nothing, tags that are only marginally diferent and report to the same thing and and use of singular and plural forms of the same word. Many times this is the best way to guarantee that the tag will be useful. If I put both versions of the word in the tags, I’m much more likely to find it at first try.<br>Off course, and this is what I intend to do henceforth, with just a smidge of<br>discipline, I could just use the plural form, and that will be enough.<br>I wrote some comments on a file, during the beginning of the project, just to be<br>sure that I wouldn’t loose my aim for the note app changes. That, as expected,<br>had mixed results. I couldn’t do all that I set out to do, mainly because some<br>of the ideas were stupid, or too contrived or just simply too verbose to be of<br>any real use.<br>After a few days, I got back to this problem and was able to reduce the<br>complexity of the code.<br>Although most of it it’s pretty self-explanatory, or at least it seems that way<br>when everything is still fresh on my head, there is two or three comments I<br>would like to make.<br>To add all the output of the keyword columns, I used this MySQL expression:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;SELECT k1 FROM notes UNION SELECT k2 FROM notes UNION SELECT k3 FROM notes&quot;</span></span><br></pre></td></tr></table></figure>
<p>If I just could remind myself what I had did just some hours ago, I would have<br>saved myself a lot of trouble; as you can in the “stats” post I wrote after this<br>one.<br>I think it’s important to mention how I used the fuzzy searcher because, even if<br>I believe it’s an easy library and all is clear for now. In two weeks or less<br>this code will become <em>terra incognita</em>.<br>To do this we created a list with the three keyword values, and for each one,<br>Thefuzz would run all the tags records in comparison, and output only the<br>highest similarity value found.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">self.keywords = [self.k1, self.k2, self.k3]</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> self.keywords:</span><br><span class="line">            value = process.extractOne(k, self.records)</span><br></pre></td></tr></table></figure>
<p>Then a funny problem appeared. I had set the similarity threshold in everything<br>above 80. If it was that high, it would trigger a message asking the user if he<br>wanted to change the tag. The problem I didn’t foresaw was that old, repeated<br>tags would have a value of 100, and because of this the app was asking the user<br>if he wanted to exchange its tag by the exactly same tag!<br>This was easily resolved by defining a new interval where the upper tier would<br>be below 100.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (</span><br><span class="line">    <span class="number">80</span> &lt; value[<span class="number">1</span>] &lt; <span class="number">100</span></span><br><span class="line">    ):</span><br><span class="line"> chg_tag_decision = <span class="built_in">input</span>(</span><br><span class="line">                    click.style(</span><br><span class="line">                        <span class="string">f&quot;We have noticed that you inputed the word <span class="subst">&#123;k&#125;</span>, that is very similar to the word <span class="subst">&#123;value[<span class="number">0</span>]&#125;</span>, that we already have as a keyword. Won&#x27;t you use it instead? [y/n] &quot;</span>,</span><br><span class="line">                        fg=<span class="string">&quot;magenta&quot;</span>,</span><br><span class="line">                        bold=<span class="literal">True</span>,</span><br><span class="line">                    )</span><br><span class="line">                )</span><br></pre></td></tr></table></figure>

<p>Here it is the full code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;Collects user input, checks keywords for similarity, if they&#x27;re new and their frequency.</span></span><br><span class="line"><span class="string">Sends information to the database and creates the md and html pages.&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> click</span><br><span class="line"><span class="keyword">from</span> loguru <span class="keyword">import</span> logger</span><br><span class="line"><span class="keyword">from</span> thefuzz <span class="keyword">import</span> fuzz</span><br><span class="line"><span class="keyword">from</span> thefuzz <span class="keyword">import</span> process</span><br><span class="line"><span class="keyword">from</span> colr <span class="keyword">import</span> color</span><br><span class="line"><span class="keyword">from</span> mysql.connector <span class="keyword">import</span> connect, Error</span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;&#123;time&#125; - &#123;name&#125; - &#123;level&#125; - &#123;message&#125;&quot;</span></span><br><span class="line">logger.add(<span class="string">&quot;info.log&quot;</span>, level=<span class="string">&quot;INFO&quot;</span>, <span class="built_in">format</span>=fmt, backtrace=<span class="literal">True</span>, diagnose=<span class="literal">True</span>)</span><br><span class="line">logger.add(<span class="string">&quot;error.log&quot;</span>, level=<span class="string">&quot;ERROR&quot;</span>, <span class="built_in">format</span>=fmt, backtrace=<span class="literal">True</span>, diagnose=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Add</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;The class starts with user input and a list with all tags in a string list.</span></span><br><span class="line"><span class="string">    Having them separated will simplify processes. With this information collected,</span></span><br><span class="line"><span class="string">    first we&#x27;ll ask the keywords questions and run its processes, one by one.</span></span><br><span class="line"><span class="string">    After this is done we&#x27;ll send the information to the database and create the</span></span><br><span class="line"><span class="string">    md and html files.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">input_data</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;All the user inputs needed to create a new entry are located here.&quot;&quot;&quot;</span></span><br><span class="line">        self.title = <span class="built_in">input</span>(click.style(<span class="string">&quot; Title? » &quot;</span>, fg=<span class="string">&quot;magenta&quot;</span>, bold=<span class="literal">True</span>))</span><br><span class="line">        self.k1 = <span class="built_in">input</span>(click.style(<span class="string">&quot; Choose a keyword » &quot;</span>, fg=<span class="string">&quot;magenta&quot;</span>, bold=<span class="literal">True</span>))</span><br><span class="line">        self.k2 = <span class="built_in">input</span>(click.style(<span class="string">&quot; Choose another... » &quot;</span>, fg=<span class="string">&quot;magenta&quot;</span>, bold=<span class="literal">True</span>))</span><br><span class="line">        self.k3 = <span class="built_in">input</span>(click.style(<span class="string">&quot; And another... » &quot;</span>, fg=<span class="string">&quot;magenta&quot;</span>, bold=<span class="literal">True</span>))</span><br><span class="line">        <span class="built_in">print</span>(click.style(<span class="string">&quot; Write a note.&quot;</span>, fg=<span class="string">&quot;magenta&quot;</span>, bold=<span class="literal">True</span>))</span><br><span class="line">        time.sleep(<span class="number">0.2</span>)</span><br><span class="line">        self.note = click.edit().rstrip()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">        input_data()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">taglst</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Union allows to combine two or more sets of results into one, but,</span></span><br><span class="line"><span class="string">        the number and order of columns that appear in the SELECT statement</span></span><br><span class="line"><span class="string">        must be the same, and the data types must be equal or compatible.</span></span><br><span class="line"><span class="string">        Union removes duplicates.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;notes&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot;SELECT k1 FROM notes UNION SELECT k2 FROM notes UNION SELECT k3 FROM notes&quot;</span></span><br><span class="line">            logger.info(query)</span><br><span class="line">            cur.execute(query)</span><br><span class="line">            records = cur.fetchall()  <span class="comment"># Results come as one-element tuples. It&#x27;s needed to turn it to list.</span></span><br><span class="line">            self.records = [i <span class="keyword">for</span> t <span class="keyword">in</span> records <span class="keyword">for</span> i <span class="keyword">in</span> t]</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">        taglst()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">issimilar</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Uses Thefuzz library to compare keyword strings. If similarity is above 80%,</span></span><br><span class="line"><span class="string">        it prints a mesage asking if the user wants to change it.&quot;&quot;&quot;</span></span><br><span class="line">        self.keywords = [self.k1, self.k2, self.k3]</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> self.keywords:</span><br><span class="line">            value = process.extractOne(k, self.records)</span><br><span class="line">            <span class="keyword">if</span> value[<span class="number">1</span>] &gt; <span class="number">80</span>:</span><br><span class="line">                chg_tag_decision = <span class="built_in">input</span>(</span><br><span class="line">                    <span class="string">f&quot;We have noticed that you inputed the word <span class="subst">&#123;k&#125;</span>, that is very similar to the word <span class="subst">&#123;value[<span class="number">0</span>]&#125;</span>, that we already have as a keyword. Won&#x27;t you use it instead? [y/n] &quot;</span></span><br><span class="line">                )</span><br><span class="line">                <span class="keyword">if</span> chg_tag_decision == <span class="string">&quot;y&quot;</span>:</span><br><span class="line">                    <span class="keyword">if</span> k == self.k1:</span><br><span class="line">                        self.k1 = value[<span class="number">0</span>]</span><br><span class="line">                    <span class="keyword">if</span> k == self.k2:</span><br><span class="line">                        self.k2 = value[<span class="number">0</span>]</span><br><span class="line">                    <span class="keyword">if</span> k == self.k3:</span><br><span class="line">                        self.k3 = value[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">        issimilar()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_to_db</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Creates the urls for pages and sends the data to the database&quot;&quot;&quot;</span></span><br><span class="line">        self.pg_tit = self.title.replace(<span class="string">&quot; &quot;</span>, <span class="string">&quot;_&quot;</span>).replace(<span class="string">&quot;&#x27;&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">        self.md_path = <span class="string">&quot;/srv/http/notes/pages/markdown/&quot;</span> + self.pg_tit + <span class="string">&quot;.md&quot;</span></span><br><span class="line">        self.url = <span class="string">&quot;http://localhost/notes/pages/html/&quot;</span> + self.pg_tit + <span class="string">&quot;.html&quot;</span></span><br><span class="line">        answers = [self.title, self.k1, self.k2, self.k3, self.note, self.url]</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;notes&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot;INSERT INTO notes (title, k1, k2, k3, note, url) VALUES (%s, %s, %s, %s, %s, %s)&quot;</span></span><br><span class="line">            cur.execute(query, answers)</span><br><span class="line">            conn.commit()</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line">        <span class="built_in">print</span>(color(<span class="string">f&quot;[*] - The entry named: <span class="subst">&#123;self.title&#125;</span>, was added to the database.&quot;</span>, fore=<span class="string">&quot;#acac87&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">        add_to_db()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_md_page</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;We create a new markdown file in its folder and write to it, the content</span></span><br><span class="line"><span class="string">        of the meta-data, and the note.&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;notes&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot;select * from notes order by ntid desc limit 1&quot;</span></span><br><span class="line">            cur.execute(</span><br><span class="line">                query,</span><br><span class="line">            )</span><br><span class="line">            records = cur.fetchall()</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> records:</span><br><span class="line">            <span class="built_in">id</span> = row[<span class="number">0</span>]</span><br><span class="line">            titulo = row[<span class="number">1</span>]</span><br><span class="line">            time = row[<span class="number">7</span>]</span><br><span class="line">            k1 = row[<span class="number">2</span>]</span><br><span class="line">            k2 = row[<span class="number">3</span>]</span><br><span class="line">            k3 = row[<span class="number">4</span>]</span><br><span class="line">            nota = row[<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(self.md_path, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(<span class="string">&quot;---&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;id: &quot;</span> + <span class="built_in">str</span>(<span class="built_in">id</span>))</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;title: &quot;</span> + titulo)</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;author: mclds&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;time: &quot;</span> + <span class="built_in">str</span>(time))</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;tags: &quot;</span> + k1 + <span class="string">&quot;, &quot;</span> + k2 + <span class="string">&quot;, &quot;</span> + k3)</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;---&quot;</span>)</span><br><span class="line">            f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">            f.write(nota)</span><br><span class="line">        <span class="built_in">print</span>(color(<span class="string">f&quot;[*] - It was created the markdown file named, <span class="subst">&#123;self.md_path&#125;</span>.&quot;</span>, fore=<span class="string">&quot;#acac87&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">        add_md_page()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_html_page</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Where we create a html version of the markdown file.</span></span><br><span class="line"><span class="string">        We just convert the md file into an html one, and</span></span><br><span class="line"><span class="string">        put it in the html folder.&quot;&quot;&quot;</span></span><br><span class="line">        html_path = <span class="string">&quot;/srv/http/notes/pages/html/&quot;</span> + self.pg_tit + <span class="string">&quot;.html&quot;</span></span><br><span class="line">        cmd = <span class="string">&quot;touch &quot;</span> + html_path</span><br><span class="line">        subprocess.run(cmd, shell=<span class="literal">True</span>)</span><br><span class="line">        cmd = (</span><br><span class="line">            <span class="string">&quot;pandoc --highlight-style=zenburn --metadata title=&#x27;&quot;</span></span><br><span class="line">            + self.title</span><br><span class="line">            + <span class="string">&quot;&#x27; -s &#x27;&quot;</span></span><br><span class="line">            + self.md_path</span><br><span class="line">            + <span class="string">&quot;&#x27; -o &#x27;&quot;</span></span><br><span class="line">            + html_path</span><br><span class="line">            + <span class="string">&quot;&#x27;&quot;</span></span><br><span class="line">        )</span><br><span class="line">        subprocess.run(cmd, shell=<span class="literal">True</span>)</span><br><span class="line">        <span class="built_in">print</span>(color(<span class="string">f&quot;[*] - It was created the html file named, <span class="subst">&#123;self.url&#125;</span>.&quot;</span>, fore=<span class="string">&quot;#acac87&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">        add_html_page()</span><br></pre></td></tr></table></figure>
</div></div><div class="footer"><div class="footer-copyright">Theme By <a target="_blank" rel="noopener" href="https://github.com/shinux/hexo-theme-adoubi">Adoubi</a> , Powered By Hexo.</div></div></body></html>