<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Auto</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/heti.min.css"><link rel="stylesheet" href="/css/hexo-theme-adoubi.css"><link rel="icon" href="/images/favicon.ico"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="" type="application/atom+xml">
</head><body><div class="header"><a class="github-link" target="_blank" rel="noopener" href="https://notabug.org/micaldas"><img class="github-image" src="/images/Aquicon-Github-small.png"></a><a class="email-link" href="mailto:mclds@protonmail.com"><img class="email-image" src="/images/email-small.png"></a><a class="subscribe-link" href="/atom.xml"><img class="subscribe-image" src="/images/subscribe-small.png"></a></div><div class="content"><div class="post-item"></div><h2 class="post-title-wrapper"><p class="post-title">Auto</p></h2><div class="post-date"><time datetime="2021-06-23T06:44:00.000Z">2021-06-23</time></div><div class="post-content"><p>I am very sure that I must not be the first person that stopped writing in a blog, because tinkering with it took all the time he had.<br>I understand now the emphasis some people give to a clean environment to write in, free from distractions.<br>That is not the environment that I’m in right now. Making the blog as I go along, has pushed me in several directions, all of them<br>interesting, all of them adding something to the site and, all orthogonal to each other.<br>So, to take a breather, I stopped to write this post.<br>After trying the simplicity of the flat files and static sites, I noticed wistfully, that this system did without a database. In fact it was one of its selling points. No added complexity from  managing a database, they say. Well, after trying their solution I was reminded that their simplicity comes at the cost of ease of use, as is so many times the case. Or, more realistically, it’s just a reflection of my own ignorance. I was having a difficult time understanding the management and manipulation of the metadata. In the static files solutions, it’s all done with files that get information through JavaScript template tricks that I didn’t understand at all.<br>That was another thing that started tugging at me. Learn a bit of JavaScript.<br>A database I understand. At least I understand those that cater to my simple needs.<br>So I created a small python class to help collect and keep some metadata on my posts, that I’ll keep on a mysql database.<br>This is what I did:  </p>
<ol>
<li><p> I imported <a target="_blank" rel="noopener" href="https://www.journaldev.com/23788/python-string-module">string</a>, to capitalize words without having to worry with errors coming from apostrophes,<br><a target="_blank" rel="noopener" href="https://sultan.readthedocs.io/en/latest/">Sultan</a>, because it’s easier than Subprocess, mysql.connector to link to the db and <a target="_blank" rel="noopener" href="https://github.com/welbornprod/colr">Colr</a> to make it less drab.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> sultan.api <span class="keyword">import</span> Sultan</span><br><span class="line"><span class="keyword">from</span> mysql.connector <span class="keyword">import</span> connect</span><br><span class="line"><span class="keyword">from</span> colr <span class="keyword">import</span> color</span><br></pre></td></tr></table></figure></li>
<li><p>Opened the class and defined the global variable ‘tit’ for title, because it<br>soon became clear that it would be needed for a lot of methods.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Meta</span>():</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, tit</span>):</span></span><br><span class="line">        self.tit = <span class="built_in">input</span>(color(<span class="string">&#x27;  [T] - Title? &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>Title method. Collects the title chosen by the user and capitalizes the<br>first letter of every word.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">title</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Collects the title chosen by the user and capitalizes the</span></span><br><span class="line"><span class="string">    first letter of every word. &quot;&quot;&quot;</span></span><br><span class="line">    self.title = string.capwords(self.tit)  <span class="comment"># https://bit.ly/3pMw9ew</span></span><br><span class="line">    <span class="keyword">return</span> self.title</span><br></pre></td></tr></table></figure></li>
<li><p>Create a db entry with the URL of the post.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">link</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Creates an entry with a link where the post will be. &quot;&quot;&quot;</span></span><br><span class="line">    slug = <span class="built_in">input</span>(color(<span class="string">&#x27;  [S] - Slug? &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">    lnk = <span class="string">&#x27;/usr/share/nginx/html/analytics/ascii/public/pages/posts/&#x27;</span>\</span><br><span class="line">          + slug + <span class="string">&quot;.html&quot;</span></span><br><span class="line">    <span class="keyword">return</span> lnk</span><br></pre></td></tr></table></figure></li>
<li><p>Create a draft page.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">page</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Creates the draft page. &quot;&quot;&quot;</span></span><br><span class="line">    s = Sultan()</span><br><span class="line">    draft_path = <span class="string">&quot;/usr/share/nginx/html/analytics/ascii/drafts/&quot;</span> \</span><br><span class="line">        + <span class="string">&quot;&#x27;&quot;</span> + self.tit + <span class="string">&quot;&#x27;&quot;</span> + <span class="string">&quot;.md&quot;</span></span><br><span class="line">    <span class="keyword">with</span> Sultan.load() <span class="keyword">as</span> s:</span><br><span class="line">        s.touch(draft_path).run()</span><br></pre></td></tr></table></figure></li>
<li><p>Asks the user for a description of the post.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">description</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Asks the user for a description of the post. &quot;&quot;&quot;</span></span><br><span class="line">    descript = <span class="built_in">input</span>(color(<span class="string">&#x27;  [D] - Write a description: &#x27;</span>,</span><br><span class="line">                           fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> descript</span><br></pre></td></tr></table></figure></li>
<li><p>Ask for tags.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tags</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Asks the user for the tags of the post. &quot;&quot;&quot;</span></span><br><span class="line">    tgs = <span class="built_in">input</span>(color(<span class="string">&#x27;  [T] - Tags? &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> tgs</span><br></pre></td></tr></table></figure></li>
<li><p>Asks for categories.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">categories</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; Asks the user for the categories of the post. &quot;&quot;&quot;</span></span><br><span class="line">    cat = <span class="built_in">input</span>(color(<span class="string">&#x27;  [C] - Choose the Categories &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> cat</span><br></pre></td></tr></table></figure></li>
<li><p>Turns all function results in strings so it can be sent as a query.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">answers</span>(<span class="params">self</span>):</span></span><br><span class="line">    tit = <span class="built_in">str</span>(self.title())</span><br><span class="line">    desc = <span class="built_in">str</span>(self.description())</span><br><span class="line">    tags = <span class="built_in">str</span>(self.tags())</span><br><span class="line">    cat = <span class="built_in">str</span>(self.categories())</span><br><span class="line">    lnk = <span class="built_in">str</span>(self.link())</span><br><span class="line">    answrs = [tit, desc, tags, cat, lnk]</span><br><span class="line">    <span class="keyword">return</span> answrs</span><br></pre></td></tr></table></figure></li>
<li><p>Send it to the database.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connection</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.page()</span><br><span class="line">    conn = connect(</span><br><span class="line">            host=<span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">            user=<span class="string">&quot;root&quot;</span>,</span><br><span class="line">            password=<span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">            database=<span class="string">&quot;dazed&quot;</span>)</span><br><span class="line">    cur = conn.cursor()</span><br><span class="line">    query = <span class="string">&quot;&quot;&quot; INSERT INTO dazed (title, description, tags, categories, link)</span></span><br><span class="line"><span class="string">            VALUES (%s, %s, %s, %s, %s) &quot;&quot;&quot;</span></span><br><span class="line">    cur.execute(query, self.answers())</span><br><span class="line">    conn.commit()</span><br><span class="line">    conn.close()</span><br></pre></td></tr></table></figure></li>
</ol>
<p>Here is the whole code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot; This class will house the functions for the creation of the\</span></span><br><span class="line"><span class="string">post&#x27;s metadata. &quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> sultan.api <span class="keyword">import</span> Sultan</span><br><span class="line"><span class="keyword">from</span> mysql.connector <span class="keyword">import</span> connect</span><br><span class="line"><span class="keyword">from</span> colr <span class="keyword">import</span> color</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Meta</span>():</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, tit</span>):</span></span><br><span class="line">        self.tit = <span class="built_in">input</span>(color(<span class="string">&#x27;  [T] - Title? &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">title</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; Collects the title chosen by the user and capitalizes the</span></span><br><span class="line"><span class="string">        first letter of every word. &quot;&quot;&quot;</span></span><br><span class="line">        self.title = string.capwords(self.tit)  <span class="comment"># https://bit.ly/3pMw9ew</span></span><br><span class="line">        <span class="keyword">return</span> self.title</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">link</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; Creates an entry with a link where the post will be. &quot;&quot;&quot;</span></span><br><span class="line">        slug = <span class="built_in">input</span>(color(<span class="string">&#x27;  [S] - Slug? &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">        lnk = <span class="string">&#x27;/usr/share/nginx/html/analytics/ascii/public/pages/posts/&#x27;</span>\</span><br><span class="line">              + slug + <span class="string">&quot;.html&quot;</span></span><br><span class="line">        <span class="keyword">return</span> lnk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">page</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; Creates the draft page. &quot;&quot;&quot;</span></span><br><span class="line">        s = Sultan()</span><br><span class="line">        draft_path = <span class="string">&quot;/usr/share/nginx/html/analytics/ascii/drafts/&quot;</span> \</span><br><span class="line">            + <span class="string">&quot;&#x27;&quot;</span> + self.tit + <span class="string">&quot;&#x27;&quot;</span> + <span class="string">&quot;.md&quot;</span></span><br><span class="line">        <span class="keyword">with</span> Sultan.load() <span class="keyword">as</span> s:</span><br><span class="line">            s.touch(draft_path).run()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">description</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; Asks the user for a description of the post. &quot;&quot;&quot;</span></span><br><span class="line">        descript = <span class="built_in">input</span>(color(<span class="string">&#x27;  [D] - Write a description: &#x27;</span>,</span><br><span class="line">                               fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">        <span class="keyword">return</span> descript</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tags</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; Asks the user for the tags of the post. &quot;&quot;&quot;</span></span><br><span class="line">        tgs = <span class="built_in">input</span>(color(<span class="string">&#x27;  [T] - Tags? &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">        <span class="keyword">return</span> tgs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">categories</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot; Asks the user for the categories of the post. &quot;&quot;&quot;</span></span><br><span class="line">        cat = <span class="built_in">input</span>(color(<span class="string">&#x27;  [C] - Choose the Categories &#x27;</span>, fore=<span class="string">&#x27;#fa2033&#x27;</span>))</span><br><span class="line">        <span class="keyword">return</span> cat</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">answers</span>(<span class="params">self</span>):</span></span><br><span class="line">        tit = <span class="built_in">str</span>(self.title())</span><br><span class="line">        desc = <span class="built_in">str</span>(self.description())</span><br><span class="line">        tags = <span class="built_in">str</span>(self.tags())</span><br><span class="line">        cat = <span class="built_in">str</span>(self.categories())</span><br><span class="line">        lnk = <span class="built_in">str</span>(self.link())</span><br><span class="line">        answrs = [tit, desc, tags, cat, lnk]</span><br><span class="line">        <span class="keyword">return</span> answrs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">connection</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.page()</span><br><span class="line">        conn = connect(</span><br><span class="line">                host=<span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">                user=<span class="string">&quot;root&quot;</span>,</span><br><span class="line">                password=<span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">                database=<span class="string">&quot;dazed&quot;</span>)</span><br><span class="line">        cur = conn.cursor()</span><br><span class="line">        query = <span class="string">&quot;&quot;&quot; INSERT INTO dazed (title, description, tags, categories, link)</span></span><br><span class="line"><span class="string">                VALUES (%s, %s, %s, %s, %s) &quot;&quot;&quot;</span></span><br><span class="line">        cur.execute(query, self.answers())</span><br><span class="line">        conn.commit()</span><br><span class="line">        conn.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">meta = Meta(<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">meta.connection()</span><br></pre></td></tr></table></figure>
<hr>
<h2><span id="update">UPDATE</span></h2><p>It is now 21-08-2021 and I rediscovered this project that I think is very cool. There is no way to get it back as the ‘dazed’ database doesn’t exist anymore. But it’s a pity. I would have liked very much to revisit this project.</p>
</div></div><div class="footer"><div class="footer-copyright">Theme By <a target="_blank" rel="noopener" href="https://github.com/shinux/hexo-theme-adoubi">Adoubi</a> , Powered By Hexo.</div></div></body></html>