<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>bookmark_prompt_toolkit</title><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/heti.min.css"><link rel="stylesheet" href="/css/hexo-theme-adoubi.css"><link rel="icon" href="/images/favicon.ico"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="" type="application/atom+xml">
</head><body><div class="header"><a class="github-link" target="_blank" rel="noopener" href="https://notabug.org/micaldas"><img class="github-image" src="/images/Aquicon-Github-small.png"></a><a class="email-link" href="mailto:mclds@protonmail.com"><img class="email-image" src="/images/email-small.png"></a><a class="subscribe-link" href="/atom.xml"><img class="subscribe-image" src="/images/subscribe-small.png"></a></div><div class="content"><div class="post-item"></div><h2 class="post-title-wrapper"><p class="post-title">bookmark_prompt_toolkit</p></h2><div class="post-date"><time datetime="2021-08-21T01:58:19.000Z">2021-08-21</time></div><div class="post-content"><p>I was making some updates on the bookmarks app, Urwid version, when it came to me that a change of UI provider was in order.<br>All the examples in Urwid work under the premise that every time you make a choice in a menu or prompt, there’s always another step that reiterates that you have, indeed, made that choice, and your choice value is kept not as the choice, but as the equal confirmation value. I think this will be clearer with an example:</p>
<p>In the ‘Simple Menu’ example of the <a target="_blank" rel="noopener" href="http://urwid.org/tutorial/index.html">Urwid tutorial</a>, you select an option from choices <code>choices = u&#39;Chapman Cleese Gilliam Idle Jones Palin&#39;.split()</code>, and instead of using the direct value <code>choice</code>, it’s created a button that, when printed the <code>choice</code> value, clicks OK, and ends the choice process. In short instead of having a choice and a <code>enter</code> key-press, we have that plus clicking on a button that the only thing it does is confirm what you have just done.  </p>
<p>If you’re doing an UI that has few interactions with the user, this is not very taxing. But if you need to concatenate one or more commands in sequence, these confirmations start to feel as stumbling blocks.<br>I did some research and all the examples I saw followed this blueprint. So much so that I now am convinced that this is a feature of how Urwid functions.<br>Obviously I might be wrong and there is indeed a way to circumvent the confirmations, but I wasn’t able to figure it out.<br>Add to this the fact that you can only make one request by function, and I started to think that, even if prompt_toolkit is hard to grasp, it couldn’t be as hard as this. And I was right.<br>Prompt_toolkit has some ready to use dialog boxes that if not very flexible, are extremely simple and quick to implement.  </p>
<p>This build had two very nice bonuses, that solved two problems that I was trying to resolve for some time:</p>
<ol>
<li>How to create a class where all information is added by user input,</li>
<li>How to instantiate a class without instantiation values.</li>
</ol>
<p>I see now that the solutions were obvious and not very difficult to reach. But difficult, for me, it was. And I’m happy I solved it.  </p>
<p>In this case all information needed to run the methods is specific to one method only. There aren’t any variables that are needed by more than one method. This enabled me to not use a __init__ method and thus avoided having to inject values when instantiating the class. So I was free to insert on the methods the input queries for each functionality.  </p>
<ol>
<li>I created an add a bookmark method:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_bkmk</span>(<span class="params">self</span>):</span></span><br><span class="line">    title = input_dialog(title=<span class="string">&quot;Title&quot;</span>, text=<span class="string">&quot;What is the title? &quot;</span>).run()</span><br><span class="line">    comment = input_dialog(title=<span class="string">&quot;Comment&quot;</span>, text=<span class="string">&quot;What is your comment? &quot;</span>).run()</span><br><span class="line">    link = input_dialog(title=<span class="string">&quot;Link&quot;</span>, text=<span class="string">&quot;What is the link? &quot;</span>).run()</span><br><span class="line">    k1 = input_dialog(title=<span class="string">&quot;K1&quot;</span>, text=<span class="string">&quot;Choose a keyword &quot;</span>).run()</span><br><span class="line">    k2 = input_dialog(title=<span class="string">&quot;K2&quot;</span>, text=<span class="string">&quot;Choose another... &quot;</span>).run()</span><br><span class="line">    k3 = input_dialog(title=<span class="string">&quot;K3&quot;</span>, text=<span class="string">&quot;And another...&quot;</span>).run()</span><br><span class="line"></span><br><span class="line">    answers = [title, comment, link, k1, k2, k3]</span><br><span class="line">    logger.info(answers)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">        cur = conn.cursor()</span><br><span class="line">        query = <span class="string">&quot;&quot;&quot;INSERT INTO bkmks (title, comment, link, k1, k2, k3) VALUES (%s, %s, %s, %s, %s, %s)&quot;&quot;&quot;</span></span><br><span class="line">        logger.info(query)</span><br><span class="line">        cur.execute(query, answers)</span><br><span class="line">        conn.commit()</span><br><span class="line">    <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> conn:</span><br><span class="line">            conn.close()</span><br></pre></td></tr></table></figure></li>
<li>A delete a bookmark method:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;We must use &#x27;ident&#x27;, not &#x27;id&#x27; in choosing the variable name, as the latter is a reserved word&quot;&quot;&quot;</span></span><br><span class="line">    ident = input_dialog(title=<span class="string">&quot;Delete Entry&quot;</span>, text=<span class="string">&quot;What is the ID? &quot;</span>).run()</span><br><span class="line">    logger.info(ident)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">        cur = conn.cursor()</span><br><span class="line">        query = <span class="string">&quot; DELETE FROM bkmks WHERE id = &quot;</span> + ident</span><br><span class="line">        logger.info(query)</span><br><span class="line">        cur.execute(query)</span><br><span class="line">        conn.commit()</span><br><span class="line">    <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> conn:</span><br><span class="line">            conn.close()</span><br></pre></td></tr></table></figure></li>
<li>A see all bookmarks method:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">see</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">        cur = conn.cursor()</span><br><span class="line">        query = <span class="string">&quot;&quot;&quot; SELECT * FROM bkmks &quot;&quot;&quot;</span></span><br><span class="line">        logger.info(query)</span><br><span class="line">        cur.execute(query)</span><br><span class="line">        records = cur.fetchall()</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> records:</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] ID » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">0</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))  <span class="comment"># 1</span></span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] TITLE » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">1</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] COMMENT » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">2</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] LINK ? &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">3</span>]), fore=<span class="string">&quot;#a2cff0&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 1 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">4</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 2 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">5</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 3 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">6</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] TIME » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">7</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> conn:</span><br><span class="line">            conn.close()</span><br></pre></td></tr></table></figure></li>
<li>A search the bookmarks method:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        busca = input_dialog(title=<span class="string">&quot;Search Bookmarks&quot;</span>, text=<span class="string">&quot;What are you searching for? &quot;</span>).run()</span><br><span class="line">        conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">        cur = conn.cursor()</span><br><span class="line">        query = (</span><br><span class="line">            <span class="string">&quot; SELECT * FROM bkmks WHERE MATCH(title, comment, link, k1, k2, k3) AGAINST (&#x27;&quot;</span></span><br><span class="line">            + busca</span><br><span class="line">            + <span class="string">&quot;&#x27; IN NATURAL LANGUAGE MODE)&quot;</span></span><br><span class="line">        )</span><br><span class="line">        logger.info(query)</span><br><span class="line">        cur.execute(query)</span><br><span class="line">        records = cur.fetchall()</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> records:</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] ID » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">0</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] TITLE » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">1</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] COMMENT » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">2</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] LINK ? &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">3</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 1 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">4</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 2 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">5</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 3 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">6</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(color(<span class="string">&quot; [*] TIME » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">7</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> conn:</span><br><span class="line">            conn.close()</span><br></pre></td></tr></table></figure></li>
<li>And an update a bookmark method:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">    coluna = input_dialog(title=<span class="string">&quot;Update Column&quot;</span>, text=<span class="string">&quot;Column? &quot;</span>).run()</span><br><span class="line">    ident = input_dialog(title=<span class="string">&quot;Entry ID&quot;</span>, text=<span class="string">&quot;ID? &quot;</span>).run()</span><br><span class="line">    update = input_dialog(title=<span class="string">&quot;Update Text&quot;</span>, text=<span class="string">&quot;Write your update.&quot;</span>).run()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">        cur = conn.cursor()</span><br><span class="line">        query = <span class="string">&quot;UPDATE bkmks SET &quot;</span> + coluna + <span class="string">&quot; = &#x27;&quot;</span> + update + <span class="string">&quot;&#x27; WHERE id = &quot;</span> + ident</span><br><span class="line">        logger.info(query)</span><br><span class="line">        cur.execute(</span><br><span class="line">            query,</span><br><span class="line">        )</span><br><span class="line">        conn.commit()</span><br><span class="line">    <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> conn:</span><br><span class="line">            conn.close()</span><br></pre></td></tr></table></figure></li>
</ol>
<p>This is the whole class:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> loguru <span class="keyword">import</span> logger</span><br><span class="line"><span class="keyword">from</span> prompt_toolkit.shortcuts <span class="keyword">import</span> input_dialog</span><br><span class="line"><span class="keyword">from</span> mysql.connector <span class="keyword">import</span> connect, Error</span><br><span class="line"><span class="keyword">from</span> colr <span class="keyword">import</span> color</span><br><span class="line"></span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"><span class="comment"># @author      : mclds</span></span><br><span class="line"><span class="comment"># @file        : add</span></span><br><span class="line"><span class="comment"># @created     : 21/08/2021</span></span><br><span class="line"><span class="comment"># @email       : mclds@protonmail.com</span></span><br><span class="line"><span class="comment"># @description : Bookmark manager app. Adds, deletes, updates, searches, sees</span></span><br><span class="line"><span class="comment"># the bookmark database. The UI is done in Prompt_Toolkit</span></span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;&#123;time&#125; - &#123;name&#125; - &#123;level&#125; - &#123;message&#125;&quot;</span></span><br><span class="line">logger.add(<span class="string">&quot;info.log&quot;</span>, level=<span class="string">&quot;INFO&quot;</span>, <span class="built_in">format</span>=fmt, backtrace=<span class="literal">True</span>, diagnose=<span class="literal">True</span>)</span><br><span class="line">logger.add(<span class="string">&quot;error.log&quot;</span>, level=<span class="string">&quot;ERROR&quot;</span>, <span class="built_in">format</span>=fmt, backtrace=<span class="literal">True</span>, diagnose=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Add</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;This file is organized as a class just because the functions can be organized under the app umbrella. But in reality</span></span><br><span class="line"><span class="string">    there&#x27;s no __init__ variables as there are no variables that are needed by more than one method. As user input is the</span></span><br><span class="line"><span class="string">    base of all methods, we are working without __init__ method, that would force us to have pre-determined values to</span></span><br><span class="line"><span class="string">    instantiate the class. This way we can instantiate the class, empty of attributes.&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_bkmk</span>(<span class="params">self</span>):</span></span><br><span class="line">        title = input_dialog(title=<span class="string">&quot;Title&quot;</span>, text=<span class="string">&quot;What is the title? &quot;</span>).run()</span><br><span class="line">        comment = input_dialog(title=<span class="string">&quot;Comment&quot;</span>, text=<span class="string">&quot;What is your comment? &quot;</span>).run()</span><br><span class="line">        link = input_dialog(title=<span class="string">&quot;Link&quot;</span>, text=<span class="string">&quot;What is the link? &quot;</span>).run()</span><br><span class="line">        k1 = input_dialog(title=<span class="string">&quot;K1&quot;</span>, text=<span class="string">&quot;Choose a keyword &quot;</span>).run()</span><br><span class="line">        k2 = input_dialog(title=<span class="string">&quot;K2&quot;</span>, text=<span class="string">&quot;Choose another... &quot;</span>).run()</span><br><span class="line">        k3 = input_dialog(title=<span class="string">&quot;K3&quot;</span>, text=<span class="string">&quot;And another...&quot;</span>).run()</span><br><span class="line"></span><br><span class="line">        answers = [title, comment, link, k1, k2, k3]</span><br><span class="line">        logger.info(answers)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot;&quot;&quot;INSERT INTO bkmks (title, comment, link, k1, k2, k3) VALUES (%s, %s, %s, %s, %s, %s)&quot;&quot;&quot;</span></span><br><span class="line">            logger.info(query)</span><br><span class="line">            cur.execute(query, answers)</span><br><span class="line">            conn.commit()</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delete</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;We must use &#x27;ident&#x27;, not &#x27;id&#x27; in choosing the variable name, as the latter is a reserved word&quot;&quot;&quot;</span></span><br><span class="line">        ident = input_dialog(title=<span class="string">&quot;Delete Entry&quot;</span>, text=<span class="string">&quot;What is the ID? &quot;</span>).run()</span><br><span class="line">        logger.info(ident)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot; DELETE FROM bkmks WHERE id = &quot;</span> + ident</span><br><span class="line">            logger.info(query)</span><br><span class="line">            cur.execute(query)</span><br><span class="line">            conn.commit()</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">see</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot;&quot;&quot; SELECT * FROM bkmks &quot;&quot;&quot;</span></span><br><span class="line">            logger.info(query)</span><br><span class="line">            cur.execute(query)</span><br><span class="line">            records = cur.fetchall()</span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> records:</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] ID » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">0</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))  <span class="comment"># 1</span></span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] TITLE » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">1</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] COMMENT » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">2</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] LINK ? &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">3</span>]), fore=<span class="string">&quot;#a2cff0&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 1 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">4</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 2 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">5</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 3 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">6</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] TIME » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">7</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            busca = input_dialog(title=<span class="string">&quot;Search Bookmarks&quot;</span>, text=<span class="string">&quot;What are you searching for? &quot;</span>).run()</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = (</span><br><span class="line">                <span class="string">&quot; SELECT * FROM bkmks WHERE MATCH(title, comment, link, k1, k2, k3) AGAINST (&#x27;&quot;</span></span><br><span class="line">                + busca</span><br><span class="line">                + <span class="string">&quot;&#x27; IN NATURAL LANGUAGE MODE)&quot;</span></span><br><span class="line">            )</span><br><span class="line">            logger.info(query)</span><br><span class="line">            cur.execute(query)</span><br><span class="line">            records = cur.fetchall()</span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> records:</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] ID » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">0</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] TITLE » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">1</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] COMMENT » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">2</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] LINK ? &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">3</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 1 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">4</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 2 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">5</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] KEYWORD 3 » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">6</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(color(<span class="string">&quot; [*] TIME » &quot;</span>, fore=<span class="string">&quot;#928b7f&quot;</span>), color(<span class="built_in">str</span>(row[<span class="number">7</span>]), fore=<span class="string">&quot;#ffffff&quot;</span>))</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @logger.catch</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">        coluna = input_dialog(title=<span class="string">&quot;Update Column&quot;</span>, text=<span class="string">&quot;Column? &quot;</span>).run()</span><br><span class="line">        ident = input_dialog(title=<span class="string">&quot;Entry ID&quot;</span>, text=<span class="string">&quot;ID? &quot;</span>).run()</span><br><span class="line">        update = input_dialog(title=<span class="string">&quot;Update Text&quot;</span>, text=<span class="string">&quot;Write your update.&quot;</span>).run()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            conn = connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;mic&quot;</span>, password=<span class="string">&quot;xxxx&quot;</span>, database=<span class="string">&quot;bkmks&quot;</span>)</span><br><span class="line">            cur = conn.cursor()</span><br><span class="line">            query = <span class="string">&quot;UPDATE bkmks SET &quot;</span> + coluna + <span class="string">&quot; = &#x27;&quot;</span> + update + <span class="string">&quot;&#x27; WHERE id = &quot;</span> + ident</span><br><span class="line">            logger.info(query)</span><br><span class="line">            cur.execute(</span><br><span class="line">                query,</span><br><span class="line">            )</span><br><span class="line">            conn.commit()</span><br><span class="line">        <span class="keyword">except</span> Error <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Error while connecting to db&quot;</span>, e)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            <span class="keyword">if</span> conn:</span><br><span class="line">                conn.close()</span><br></pre></td></tr></table></figure>
<hr>
<h2><span id="main-file">Main File</span></h2><p>I created a main file where I concentrated the access to the functionalities through a menu, where the user can choose what is going to do with the app.<br>The user choice variable is kept in the ‘result’ variable. So as to access it when instantiating the class, I used the convention that variables named with the function name, ‘main’, and a variable name, are accessible outside the function:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Inside the function we build the radio button questionnaire. Outside the function,</span></span><br><span class="line"><span class="string">    and necessarily so, we declare the instantiation of the imported class.</span></span><br><span class="line"><span class="string">    Finally we connect each radio button option to a specific method, mediated by the</span></span><br><span class="line"><span class="string">    instance&quot;&quot;&quot;</span></span><br><span class="line">    main.result = radiolist_dialog(</span><br><span class="line">        title=<span class="string">&quot;Main&quot;</span>,</span><br><span class="line">        text=<span class="string">&quot;What Do You Want To Do?&quot;</span>,</span><br><span class="line">        values=[</span><br><span class="line">            (<span class="string">&quot;add&quot;</span>, <span class="string">&quot;Add a Bookmark&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;delete&quot;</span>, <span class="string">&quot;Delete a Bookmark&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;see&quot;</span>, <span class="string">&quot;See All Bookmarks&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;search&quot;</span>, <span class="string">&quot;Search the Bookmarks&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;update&quot;</span>, <span class="string">&quot;Update a Bookmark&quot;</span>),</span><br><span class="line">        ],</span><br><span class="line">    ).run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<p>Outside the main function I instantiated the Add class that I imported to this file:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = Add()</span><br></pre></td></tr></table></figure>
<p>Note that ‘Add’ is empty and it will accept whatever values the input objects will create inside the methods.<br>Now is just the case of connecting the menu alternatives to their corresponding methods:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;add&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.add_bkmk()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;delete&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.delete()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;see&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.see()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;search&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.search()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;update&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.update()</span><br></pre></td></tr></table></figure>

<p>The whole main file:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> loguru <span class="keyword">import</span> logger</span><br><span class="line"><span class="keyword">from</span> prompt_toolkit.shortcuts <span class="keyword">import</span> radiolist_dialog</span><br><span class="line"><span class="keyword">from</span> bkmk_class <span class="keyword">import</span> Add</span><br><span class="line"></span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"><span class="comment"># @author      : mclds</span></span><br><span class="line"><span class="comment"># @file        : main</span></span><br><span class="line"><span class="comment"># @created     : 21/08/2021</span></span><br><span class="line"><span class="comment"># @email       : mclds@protonmail.com</span></span><br><span class="line"><span class="comment"># @description : Main file where all functionalities are concentrated and</span></span><br><span class="line"><span class="comment"># accessed.</span></span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;&#123;time&#125; - &#123;name&#125; - &#123;level&#125; - &#123;message&#125;&quot;</span></span><br><span class="line">logger.add(<span class="string">&quot;info.log&quot;</span>, level=<span class="string">&quot;INFO&quot;</span>, <span class="built_in">format</span>=fmt, backtrace=<span class="literal">True</span>, diagnose=<span class="literal">True</span>)</span><br><span class="line">logger.add(<span class="string">&quot;error.log&quot;</span>, level=<span class="string">&quot;ERROR&quot;</span>, <span class="built_in">format</span>=fmt, backtrace=<span class="literal">True</span>, diagnose=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@logger.catch  </span><span class="comment"># Decorator for loguru. All errors will go log. Has to be on all functions</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Inside the function we build the radio button questionnaire. Outside the function,</span></span><br><span class="line"><span class="string">    and necessarily so, we declare the instantiation of the imported class.</span></span><br><span class="line"><span class="string">    Finally we connect each radio button option to a specific method, mediated by the</span></span><br><span class="line"><span class="string">    instance&quot;&quot;&quot;</span></span><br><span class="line">    main.result = radiolist_dialog(</span><br><span class="line">        title=<span class="string">&quot;Main&quot;</span>,</span><br><span class="line">        text=<span class="string">&quot;What Do You Want To Do?&quot;</span>,</span><br><span class="line">        values=[</span><br><span class="line">            (<span class="string">&quot;add&quot;</span>, <span class="string">&quot;Add a Bookmark&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;delete&quot;</span>, <span class="string">&quot;Delete a Bookmark&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;see&quot;</span>, <span class="string">&quot;See All Bookmarks&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;search&quot;</span>, <span class="string">&quot;Search the Bookmarks&quot;</span>),</span><br><span class="line">            (<span class="string">&quot;update&quot;</span>, <span class="string">&quot;Update a Bookmark&quot;</span>),</span><br><span class="line">        ],</span><br><span class="line">    ).run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = Add()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;add&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.add_bkmk()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;delete&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.delete()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;see&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.see()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;search&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.search()</span><br><span class="line"><span class="keyword">if</span> main.result == <span class="string">&quot;update&quot;</span>:</span><br><span class="line">    <span class="built_in">sum</span>.update()</span><br></pre></td></tr></table></figure>
</div></div><div class="footer"><div class="footer-copyright">Theme By <a target="_blank" rel="noopener" href="https://github.com/shinux/hexo-theme-adoubi">Adoubi</a> , Powered By Hexo.</div></div></body></html>